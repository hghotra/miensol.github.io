<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.60c3ca86afa5e5c4da02.css">html{font-size:100}body{margin:0 0 0 calc(100vw - 100%);color:#222;line-height:1.625;font-size:1rem;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body,h1,h2,h3,h4,h5,h6{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif}h1,h2,h3,h4,h5,h6{font-weight:600}h1{font-size:2.5rem;line-height:3.25rem;margin-top:6.5rem;margin-bottom:1.625rem}h2{font-size:1.6875rem;line-height:2.4375rem}h2,h3{margin-top:3.25rem;margin-bottom:.8125rem}h3{font-size:1.375rem;line-height:1.625rem}h4{font-size:1.2rem;margin-top:2.4375rem}h4,h5{line-height:1.625rem;margin-bottom:.8125rem}h5,h6{font-size:1rem;margin-top:4.0625rem}h6{line-height:1.625rem;margin-bottom:.8125rem}img{max-width:100%;margin:inherit auto}hr,img{border:0;display:block}hr{color:#222;height:1.625rem;margin:3.25rem auto;background-size:100% 26px;background-image:linear-gradient(180deg,transparent 1px,transparent 11px,#222 0,#222 15px,transparent 0,transparent 26px);width:6.25rem}a{color:#5d93ff;text-decoration:none}a:active,a:focus,a:hover{color:#f7a046}b,strong{font-weight:600}ul{list-style:square;margin-bottom:1.625rem}ul li{padding:0 .3125rem;margin-bottom:.625rem}p{line-height:1.625rem;margin-bottom:1.625rem}blockquote{padding:0;text-align:center}figure{display:block;width:100%;height:auto}figcaption{line-height:1.21875rem;margin-top:.40625rem;color:#222;font-size:.875rem;font-style:italic;margin-bottom:0;text-align:center}.anchor{margin-left:-1.875rem!important;padding-right:.875rem!important}@media screen and (min-width:685px){figure.float-left,figure.float-right{max-width:19.375rem;padding:0 1.625rem}.float-right{float:right}.float-left{float:left}}blockquote{background:#ededed;border-left:8px solid #5d93ff;box-shadow:0 3px 15px rgba(0,0,0,.15);color:#222;font-size:1.1em;font-style:italic;font-weight:300;line-height:1.6;margin:0;padding:1.2em;position:relative;vertical-align:super;z-index:0;overflow:hidden;text-align:start}blockquote:before{color:#5d93ff;content:"\201C";font-size:5em;left:0;position:absolute;top:-35px}blockquote p:before{color:#ddd;content:"\201C";font-size:50em;line-height:.65em;right:.095em;position:absolute;z-index:-1}blockquote span{color:#5d93ff;display:block;font-size:1.4em;font-weight:300;letter-spacing:.0625rem;margin-top:.5em}code[class*=language-],pre[class*=language-]{color:#657b83;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#073642}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{color:#657b83;background:#eee8d5}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.Author-module--author__photo--36xCH{display:inline-block;margin-bottom:0;border-radius:50%;background-clip:padding-box}.Author-module--author__title--2CaTb{font-size:1.125rem;font-weight:600;line-height:1.82813rem;margin:.8125rem 0}.Author-module--author__title-link--Yrism{color:#222}.Author-module--author__title-link--Yrism:focus,.Author-module--author__title-link--Yrism:hover{color:#222}.Author-module--author__subtitle--cAaEB{color:#888;line-height:1.625rem;margin-bottom:1.625rem}.Icon-module--icon--Gpyvw{display:inline-block;width:1em;height:1em;stroke-width:0;stroke:currentColor;fill:currentColor;font-style:normal;font-weight:400;speak:none;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.Contacts-module--contacts--1rGd1{margin-bottom:1.625rem}.Contacts-module--contacts__list--3OgdW{display:flex;flex-flow:row wrap;flex-grow:0;flex-shrink:0;list-style:none;padding:0;margin:.625rem -.1875rem;width:8.75rem}.Contacts-module--contacts__list-item--16p9q{padding:0;margin:.25rem;display:flex;align-content:center;align-items:center;justify-content:center;height:2.1875rem;width:2.1875rem;line-height:2.1875rem;border-radius:50%;text-align:center;border:1px solid #ebebeb}.Contacts-module--contacts__list-item-link--2MIDn{border:0;display:flex;color:#222}.Contacts-module--contacts__list-item-link--2MIDn:focus,.Contacts-module--contacts__list-item-link--2MIDn:hover{color:#5d93ff}.Copyright-module--copyright--1ariN{color:#b6b6b6;font-size:.875rem}.Menu-module--menu--Efbin{margin-bottom:1.625rem}.Menu-module--menu__list--31Zeo{list-style:none;padding:0;margin:0}.Menu-module--menu__list-item--1lJ6B{padding:0;margin:.625rem 0}.Menu-module--menu__list-item-link--10Ush{font-size:1rem;color:#222;font-weight:400;border:0}.Menu-module--menu__list-item-link--10Ush:focus,.Menu-module--menu__list-item-link--10Ush:hover{color:#5d93ff;border-bottom:1px solid #5d93ff}.Menu-module--menu__list-item-link--active--2CbUO{color:#222;border-bottom:1px solid #222}.Sidebar-module--sidebar--X4z2p{width:100%}.Sidebar-module--sidebar__inner--Jdc5s{position:relative;padding:1.5625rem 1.25rem 0}@media screen and (min-width:685px){.Sidebar-module--sidebar--X4z2p{width:calc(41.625% - 1.09375rem)}.Sidebar-module--sidebar--X4z2p:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Sidebar-module--sidebar--X4z2p:last-child{margin-right:0}.Sidebar-module--sidebar--X4z2p:nth-child(12n){margin-right:0;float:right}.Sidebar-module--sidebar--X4z2p:nth-child(12n+1){clear:both}.Sidebar-module--sidebar__inner--Jdc5s{padding:1.875rem 1.25rem 0}.Sidebar-module--sidebar__inner--Jdc5s:after{background:#e6e6e6;background:linear-gradient(180deg,#e6e6e6 0,#e6e6e6 48%,#fff);position:absolute;content:"";width:.0625rem;height:33.75rem;top:30px;right:-10px;bottom:0}}@media screen and (min-width:960px){.Sidebar-module--sidebar--X4z2p{width:calc(33.3% - 1.25rem)}.Sidebar-module--sidebar--X4z2p:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Sidebar-module--sidebar--X4z2p:last-child{margin-right:0}.Sidebar-module--sidebar--X4z2p:nth-child(3n){margin-right:0;float:right}.Sidebar-module--sidebar--X4z2p:nth-child(3n+1){clear:both}.Sidebar-module--sidebar__inner--Jdc5s{padding:2.5rem}}.Layout-module--layout--3Pyz6{max-width:66.875rem;margin-left:auto;margin-right:auto}.Layout-module--layout--3Pyz6:before{content:"";display:table}.Layout-module--layout--3Pyz6:after{content:"";display:table;clear:both}.Feed-module--feed__item--2D5rE{margin-bottom:2.03125rem}.Feed-module--feed__item--2D5rE:last-child{margin-bottom:.8125rem}.Feed-module--feed__item-title--3nigr{font-size:1.6875rem;line-height:2.4375rem;margin-top:0;margin-bottom:.8125rem}.Feed-module--feed__item-title-link--iFMRs{color:#222}.Feed-module--feed__item-title-link--iFMRs:focus,.Feed-module--feed__item-title-link--iFMRs:hover{color:#222;border-bottom:1px solid #222}.Feed-module--feed__item-description--1uO8e{font-size:1rem;line-height:1.625rem;margin-bottom:1.21875rem}.Feed-module--feed__item-meta-time--3t1fg{font-size:.875rem;color:#222;font-weight:600;text-transform:uppercase}.Feed-module--feed__item-meta-divider--N-Q0A{margin:0 .3125rem}.Feed-module--feed__item-meta-category-link--23f8F{font-size:.875rem;color:#f7a046;font-weight:600;text-transform:uppercase}.Feed-module--feed__item-meta-category-link--23f8F:focus,.Feed-module--feed__item-meta-category-link--23f8F:hover{color:#5d93ff}.Feed-module--feed__item-readmore--1u6bI{font-size:1rem;color:#5d93ff}.Feed-module--feed__item-readmore--1u6bI:focus,.Feed-module--feed__item-readmore--1u6bI:hover{color:#5d93ff;border-bottom:1px solid #5d93ff}.Page-module--page--2nMky{margin-bottom:3.25rem}.Page-module--page__inner--2M_vz{padding:1.5625rem 1.25rem}.Page-module--page__title--GPD8L{font-size:2.5rem;font-weight:600;line-height:3.25rem;margin-top:0;margin-bottom:2.35625rem}.Page-module--page__body--Ic6i6{font-size:1rem;line-height:1.625rem;margin:0 0 1.625rem}@media screen and (min-width:685px){.Page-module--page--2nMky{width:calc(58.275% - .78125rem)}.Page-module--page--2nMky:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Page-module--page--2nMky:last-child{margin-right:0}.Page-module--page--2nMky:nth-child(12n){margin-right:0;float:right}.Page-module--page--2nMky:nth-child(12n+1){clear:both}.Page-module--page__inner--2M_vz{padding:1.875rem 1.25rem}}@media screen and (min-width:960px){.Page-module--page--2nMky{width:calc(66.6% - .625rem)}.Page-module--page--2nMky:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Page-module--page--2nMky:last-child{margin-right:0}.Page-module--page--2nMky:nth-child(3n){margin-right:0;float:right}.Page-module--page--2nMky:nth-child(3n+1){clear:both}.Page-module--page__inner--2M_vz{padding:2.5rem 2.1875rem}}.Pagination-module--pagination--2H3nO{margin-top:3.25rem;display:flex}.Pagination-module--pagination__prev--bet5s{width:50%;text-align:left}.Pagination-module--pagination__prev-link--1Nzs6{color:#f7a046;font-size:1.625rem;font-weight:700}.Pagination-module--pagination__prev-link--1Nzs6:focus,.Pagination-module--pagination__prev-link--1Nzs6:hover{color:#5d93ff}.Pagination-module--pagination__prev-link--disable--Yklx9{pointer-events:none;color:#bbb}.Pagination-module--pagination__next--3hFiN{width:50%;text-align:right}.Pagination-module--pagination__next-link--3FUtA{color:#f7a046;font-size:1.625rem;font-weight:700}.Pagination-module--pagination__next-link--3FUtA:focus,.Pagination-module--pagination__next-link--3FUtA:hover{color:#5d93ff}.Pagination-module--pagination__next-link--disable--30UwZ{pointer-events:none;color:#bbb}.Author-module--author--2Yefr{border-top:1px solid #e6e6e6;max-width:40rem;padding-top:1.25rem;line-height:1.625rem;margin-top:1.625rem;margin-bottom:3.25rem}.Author-module--author__bio-contact--8_j8F{display:block;text-decoration:underline}@media screen and (min-width:685px){.Author-module--author--2Yefr{margin-left:auto;margin-right:auto}}.Content-module--content--3p512{max-width:59.0625rem;padding:0 .9375rem;margin:0 auto}.Content-module--content__title--2BDW9{font-size:2rem;max-width:40rem;font-weight:600;text-align:center;line-height:2.68125rem;margin:1.625rem auto 0}.Content-module--content__body--2TrQ- figure{margin-bottom:1.625rem}.Content-module--content__body--2TrQ- figure blockquote{font-style:italic;text-align:center;margin-top:0;padding:1.625rem 0}.Content-module--content__body--2TrQ- figure blockquote p{max-width:40rem;font-size:1.6817rem;margin-top:0;margin-bottom:1.625rem;line-height:2.4375rem}.Content-module--content__body--2TrQ- a{text-decoration:underline}.Content-module--content__body--2TrQ- *{max-width:40rem;margin-left:auto;margin-right:auto}.Content-module--content__body--2TrQ- img{max-width:100%}@media screen and (min-width:960px){.Content-module--content--3p512{padding:0}.Content-module--content__title--2BDW9{font-size:3rem;line-height:3.65625rem;margin-top:3.65625rem;margin-bottom:2.4375rem}.Content-module--content__body--2TrQ-,.Content-module--content__body--2TrQ- p{font-size:1.125rem;line-height:1.82813rem;margin-bottom:1.82813rem}}.Meta-module--meta__date--29eD7{font-style:italic}.Tags-module--tags--1L_ct{margin-bottom:.8125rem}.Tags-module--tags__list--91FqN{list-style:none;margin:0 -.625rem;padding:0}.Tags-module--tags__list-item--1M30P{display:inline-block;margin:.625rem .3125rem}.Tags-module--tags__list-item-link--3SL_8{display:inline-block;height:2.1875rem;padding:0 1.5rem;line-height:2.1875rem;border:1px solid #e6e6e6;text-decoration:none;border-radius:1.25rem;color:#222}.Tags-module--tags__list-item-link--3SL_8:focus,.Tags-module--tags__list-item-link--3SL_8:hover{color:#5d93ff}.Post-module--post__comments--25y6I,.Post-module--post__footer--3WzWU{max-width:40rem;margin:0 auto;padding:0 .9375rem}.Post-module--post__home-button--16Kl0{display:block;max-width:5.625rem;height:2.1875rem;padding:0 1.5rem;line-height:2.1875rem;text-align:center;color:#222;border:1px solid #e6e6e6;border-radius:1.25rem;font-size:1rem;font-weight:400;margin-left:auto;margin-right:auto;margin-top:1.625rem}.Post-module--post__home-button--16Kl0:focus,.Post-module--post__home-button--16Kl0:hover{color:#5d93ff}@media screen and (min-width:960px){.Post-module--post__comments--25y6I,.Post-module--post__footer--3WzWU{padding:0}.Post-module--post__home-button--16Kl0{position:fixed;max-width:auto;margin:0;top:30px;left:30px}}</style><meta name="generator" content="Gatsby 2.21.9"/><link rel="alternate" type="application/rss+xml" title="Piotr Mionskowski" href="/feed.xml"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-49294874-1"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-49294874-1', {"send_page_view":false});
      }
      </script><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="icon" href="/favicon-32x32.png?v=6c7ff033d8d3a409da0f2d709d5b2f23"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#F7A046"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=6c7ff033d8d3a409da0f2d709d5b2f23"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=6c7ff033d8d3a409da0f2d709d5b2f23"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=6c7ff033d8d3a409da0f2d709d5b2f23"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=6c7ff033d8d3a409da0f2d709d5b2f23"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=6c7ff033d8d3a409da0f2d709d5b2f23"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=6c7ff033d8d3a409da0f2d709d5b2f23"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=6c7ff033d8d3a409da0f2d709d5b2f23"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=6c7ff033d8d3a409da0f2d709d5b2f23"/><title data-react-helmet="true">HTTPs on CloudFront using Certificate Manager and aws-cdk - Piotr Mionskowski</title><meta data-react-helmet="true" name="description" content="The static website deployed with aws-cdk to CloudFront post
shows how to deploy static content with aws-cdk. We still miss a custom domain configuration for
our website though. The following example shows how to: setup a custom domain name for a CloudFront distribution enable https using AWS issued trusted certificate…"/><meta data-react-helmet="true" property="og:site_name" content="HTTPs on CloudFront using Certificate Manager and aws-cdk - Piotr Mionskowski"/><meta data-react-helmet="true" property="og:image" content="https://miensol.pl//[object Object]"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="HTTPs on CloudFront using Certificate Manager and aws-cdk - Piotr Mionskowski"/><meta data-react-helmet="true" name="twitter:description" content="The static website deployed with aws-cdk to CloudFront post
shows how to deploy static content with aws-cdk. We still miss a custom domain configuration for
our website though. The following example shows how to: setup a custom domain name for a CloudFront distribution enable https using AWS issued trusted certificate…"/><meta data-react-helmet="true" name="twitter:image" content="https://miensol.pl//[object Object]"/><link as="script" rel="preload" href="/webpack-runtime-81078feff732a01ca8b6.js"/><link as="script" rel="preload" href="/framework-ff21b39501fa5007c91d.js"/><link as="script" rel="preload" href="/532a2f07-5faf1395916999ba184f.js"/><link as="script" rel="preload" href="/app-6174af72088d24da11e8.js"/><link as="script" rel="preload" href="/styles-8636a280cbc61d53ad10.js"/><link as="script" rel="preload" href="/c39ba592b6b5047a9857340a927d4f5e647ac87b-a4bdae0c130dc607cbb4.js"/><link as="script" rel="preload" href="/70ba16277e1f8ff187315c677a20c57a8b12f94a-076ebef65155af783aeb.js"/><link as="script" rel="preload" href="/component---src-templates-post-template-tsx-c32fd150628cfd6dfdcc.js"/><link as="fetch" rel="preload" href="/page-data/cloudfront-custom-domain-https/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="Layout-module--layout--3Pyz6"><div><a class="Post-module--post__home-button--16Kl0" href="/">All Articles</a><div><div class="Content-module--content--3p512"><h1 class="Content-module--content__title--2BDW9">HTTPs on CloudFront using Certificate Manager and aws-cdk</h1><div class="Content-module--content__body--2TrQ-"><p><a href="../fast-static-website-with-aws-cdk">The static website deployed with aws-cdk to CloudFront post</a>
shows how to deploy static content with aws-cdk. We still miss a custom domain configuration for
our website though. The following example shows how to:</p>
<ul>
<li>setup a custom domain name for a CloudFront distribution</li>
<li>enable https using AWS issued trusted certificate</li>
</ul>
<h2 id="get-a-trusted-certificate-from-aws-certificate-manager-using-aws-cdk" style="position:relative;"><a href="#get-a-trusted-certificate-from-aws-certificate-manager-using-aws-cdk" aria-label="get a trusted certificate from aws certificate manager using aws cdk permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Get a trusted certificate from AWS Certificate Manager using aws-cdk</h2>
<p>Using the <a href="https://github.com/miensol/miensol.github.io/tree/develop/content/posts/cloudfront-custom-domain-https" target="_blank" rel="nofollow noopener noreferrer">example from previous post as a base</a>, inside <code class="language-text">infrastructure</code> directory, let’s add
additional package:</p>
<div class="gatsby-highlight" data-language="shellscript"><pre class="language-shellscript"><code class="language-shellscript"><span class="token function">npm</span> i --save @aws-cdk/aws-certificatemanager</code></pre></div>
<p>CloudFront can only use AWS Certificate Manager issued certificates inside us-east-1 region (N. Virginia).
We can create our <code class="language-text">FrontendStack</code> in us-east-1 region. Alternatively we can create another stack with the certificate only.
Below I show how to use the second option.</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token operator">...</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ValidationMethod <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@aws-cdk/aws-certificatemanager"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> cm <span class="token keyword">from</span> <span class="token string">"@aws-cdk/aws-certificatemanager"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> domainName <span class="token operator">=</span> <span class="token string">"fast-static-website.miensol.pl"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">CertificateStack</span> <span class="token keyword">extends</span> <span class="token class-name">cdk<span class="token punctuation">.</span>Stack</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">scope<span class="token operator">:</span> cdk<span class="token punctuation">.</span>Construct</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>scope<span class="token punctuation">,</span> <span class="token string">"CertificateStack"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      env<span class="token operator">:</span> <span class="token punctuation">{</span> region<span class="token operator">:</span> <span class="token string">"us-east-1"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> certificate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">cm<span class="token punctuation">.</span>Certificate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"CustomDomainCertificate"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      domainName<span class="token operator">:</span> domainName<span class="token punctuation">,</span>
      validationMethod<span class="token operator">:</span> ValidationMethod<span class="token punctuation">.</span><span class="token constant">DNS</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> certificateArn <span class="token operator">=</span> certificate<span class="token punctuation">.</span>certificateArn<span class="token punctuation">;</span>
    <span class="token keyword">new</span> <span class="token class-name">CfnOutput</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"CertificateArn"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      value<span class="token operator">:</span> certificateArn<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span></code></pre></div>
<p>We request a certificate for a given domain name in us-east-1 region.
Before AWS Certificate Manager issues a trusted TLS certificate it needs to verify that you own
the domain. The validation happens using either:</p>
<ul>
<li>email: AWS CM sends a message to <em>admin</em> email addresses for the domain</li>
<li>DNS: AWS CM requests a particular DNS record configuration</li>
</ul>
<p>In the example above I use <code class="language-text">fast-static-website.miensol.pl</code> with DNS validation method. Since I own
the domain I can prove that to AWS Certificate Manager.</p>
<p>We also update the <code class="language-text">bin/infrastructure.ts</code> file to include our new stack:</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript">#<span class="token operator">!</span><span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>env node
<span class="token keyword">import</span> <span class="token string">"source-map-support/register"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> cdk <span class="token keyword">from</span> <span class="token string">"@aws-cdk/core"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> CertificateStack<span class="token punctuation">,</span> FrontendStack <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../lib/frontend-stack"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">cdk<span class="token punctuation">.</span>App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">CertificateStack</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">FrontendStack</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Let’s trigger next deployment with:</p>
<div class="gatsby-highlight" data-language="shellscript"><pre class="language-shellscript"><code class="language-shellscript"><span class="token function">npm</span> run cdk deploy <span class="token string">'*'</span></code></pre></div>
<p>The process will wait for a certificate request validation. The requested DNS
record will show up in the deployment command output:</p>
<div class="gatsby-highlight" data-language="shellscript"><pre class="language-shellscript"><code class="language-shellscript"><span class="token operator">></span> <span class="token function">npm</span> run cdk deploy
<span class="token punctuation">..</span>.
<span class="token number">1</span>/5 <span class="token operator">|</span> <span class="token number">6</span>:03:37 PM <span class="token operator">|</span> CREATE_IN_PROGRESS   <span class="token operator">|</span> AWS::CertificateManager::Certificate
 <span class="token operator">|</span> CustomDomainCertificate <span class="token punctuation">(</span>CustomDomainCertificateXXXXX<span class="token punctuation">)</span> Content of DNS Record is: <span class="token punctuation">{</span>Name: XXXXXX.fast-static-website.miensol.pl.,Type: CNAME,Value: XXXXX.auiqqraehs.acm-validations.aws.<span class="token punctuation">}</span>
<span class="token number">1</span>/5 Currently <span class="token keyword">in</span> progress: CustomDomainCertificateXXXXX</code></pre></div>
<p>You can also find the request in <a href="https://eu-central-1.console.aws.amazon.com/acm/home?region=eu-central-1#/" target="_blank" rel="nofollow noopener noreferrer">Certificate Manager</a> inside AWS Web console. After
you configure the DNS record, the process will continue. In the command output you should see a message similar to:</p>
<div class="gatsby-highlight" data-language="shellscript"><pre class="language-shellscript"><code class="language-shellscript">CertificateStack.CertificateArn <span class="token operator">=</span> arn:aws:acm:us-east-1:XXXXXXX:certificate/XXXXX-XXXXX-XXXX-XXXX-XXXXXXXX</code></pre></div>
<p>Please note the above value, we will need it in the following step.</p>
<h2 id="attach-a-certificate-to-cloudfront-distribution-using-aws-cdk" style="position:relative;"><a href="#attach-a-certificate-to-cloudfront-distribution-using-aws-cdk" aria-label="attach a certificate to cloudfront distribution using aws cdk permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Attach a certificate to CloudFront distribution using aws-cdk</h2>
<p>We need to tell the CloudFront distribution to use the new certificate. Let’s modify the <code class="language-text">FrontendStack</code>
to accept parameters:</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">FrontendProps</span> <span class="token punctuation">{</span>
  certificateArn<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">FrontendStack</span> <span class="token keyword">extends</span> <span class="token class-name">cdk<span class="token punctuation">.</span>Stack</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">scope<span class="token operator">:</span> cdk<span class="token punctuation">.</span>Construct<span class="token punctuation">,</span> props<span class="token operator">:</span> FrontendProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>scope<span class="token punctuation">,</span> <span class="token string">"FrontendStack"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> frontBucket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">s3<span class="token punctuation">.</span>Bucket</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"FrontendBucket"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      websiteIndexDocument<span class="token operator">:</span> <span class="token string">"index.html"</span><span class="token punctuation">,</span>
      publicReadAccess<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> distribution <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">cloudfront<span class="token punctuation">.</span>CloudFrontWebDistribution</span><span class="token punctuation">(</span>
      <span class="token keyword">this</span><span class="token punctuation">,</span>
      <span class="token string">"Distribution"</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        viewerCertificate<span class="token operator">:</span> <span class="token punctuation">{</span>
          aliases<span class="token operator">:</span> <span class="token punctuation">[</span>domainName<span class="token punctuation">]</span><span class="token punctuation">,</span>
          props<span class="token operator">:</span> <span class="token punctuation">{</span>
            acmCertificateArn<span class="token operator">:</span> props<span class="token punctuation">.</span>certificateArn<span class="token punctuation">,</span>
            sslSupportMethod<span class="token operator">:</span> <span class="token string">"sni-only"</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token operator">...</span></code></pre></div>
<p>In the <code class="language-text">viewerCertificate</code> section we specify domain name as well as certificate CloudFront distribution should use.
Next we pass CertificateStack.CertificateArn value noted above as a parameter:</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">cdk<span class="token punctuation">.</span>App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">CertificateStack</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">FrontendStack</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  certificateArn<span class="token operator">:</span>
    <span class="token string">"arn:aws:acm:us-east-1:XXXXXXX:certificate/XXXXX-XXXXX-XXXX-XXXX-XXXXXXXX"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>The deployment will take a while to complete since the CF distribution has to update.
We can use that time to configure <code class="language-text">fast-static-website.miensol.pl</code> DNS record.
The record needs to point to <code class="language-text">FrontendStack.DistributionDomainName</code>.
I use CloudFlare so in my case this means creating a CNAME record:
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/99ad63bc35281463c74de3c1f9ddf8cd/a4f52/cloudflare-dns-entry.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 28.750000000000004%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA+UlEQVQY052QvW7EIBCEef8ibV4lXR4iTRpfcZHOmLPBxgabHzM3IOWvSBOkkUfe5WN3hNEa4zhinucmYwxKKTjP87f4r/yhn0doF2B9gHMO+77z65FybsXa29R8QSY4s9ZUPRVjxPX6ge5ywTRpiJtU6AcFKSXU/Q7DKdd1hVLqS8MwcIsJIYQGPwkskZ6w6p3feWfDwbqwy4KqiWv7bYMjLBwHX5ua6uT1Ae89AgHeLsiW8cgepr81j5y+V14JqYCV2W2czjJTXwFc31qLjfVPYEwJ3mgkPWJhX+2tngDklnuBwH8Os8OxAylCMa6u6/D08obn13c8AFzs0JhyGk0/AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/99ad63bc35281463c74de3c1f9ddf8cd/8ac56/cloudflare-dns-entry.webp 240w,
/static/99ad63bc35281463c74de3c1f9ddf8cd/d3be9/cloudflare-dns-entry.webp 480w,
/static/99ad63bc35281463c74de3c1f9ddf8cd/e46b2/cloudflare-dns-entry.webp 960w,
/static/99ad63bc35281463c74de3c1f9ddf8cd/f992d/cloudflare-dns-entry.webp 1440w,
/static/99ad63bc35281463c74de3c1f9ddf8cd/882b9/cloudflare-dns-entry.webp 1920w,
/static/99ad63bc35281463c74de3c1f9ddf8cd/f2636/cloudflare-dns-entry.webp 2024w"
          sizes="(max-width: 960px) 100vw, 960px"
          type="image/webp"
        />
        <source
          srcset="/static/99ad63bc35281463c74de3c1f9ddf8cd/8ff5a/cloudflare-dns-entry.png 240w,
/static/99ad63bc35281463c74de3c1f9ddf8cd/e85cb/cloudflare-dns-entry.png 480w,
/static/99ad63bc35281463c74de3c1f9ddf8cd/d9199/cloudflare-dns-entry.png 960w,
/static/99ad63bc35281463c74de3c1f9ddf8cd/07a9c/cloudflare-dns-entry.png 1440w,
/static/99ad63bc35281463c74de3c1f9ddf8cd/29114/cloudflare-dns-entry.png 1920w,
/static/99ad63bc35281463c74de3c1f9ddf8cd/a4f52/cloudflare-dns-entry.png 2024w"
          sizes="(max-width: 960px) 100vw, 960px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/99ad63bc35281463c74de3c1f9ddf8cd/d9199/cloudflare-dns-entry.png"
          alt="cloudflare cname entry"
          title="cloudflare cname entry"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p>We can now load our static website using HTTPS!</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/4fd2271fa5155b57a072b2e79721396b/0ef7e/certificate.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 89.58333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC8UlEQVQ4y42Uy24cVRCG/QoQFsieiefW3acv0/eZ6e7pGffc7TjYioYQYGFioRg5JlHsDSiCAFI2IBASCMQKRUgseQCegAUSr/Rxum3H44wTWPyq6jpVf/9V57Li+W06UUq70yWKe2d+QkM1qDWEtDqKZqIKS8JEWYKFInPrio5l+6xoZoBq+JegmSG98RbJaBs3GqDYERU9oCpRN5Zh+Cm6FZBzrQgrZBF50HA6lNMDGtNjrBsnaNkR6sYhanafa51DXmsfci06krjP69EDGvEc3XTRZL0kDLjAKamquwx23+fD48+ZDjYZZ1MmwxmTwYxRf4Lud6kIv1BcNcJCgCgUhhcKc2V50LDbrFc1Th5/xd///MXtzTGTJGaQJCRNk9QQWIaBLgSmtI1aDU3OUW+2Lrd8SnjWclP6hiOtj+7aBK6LK3SEorG+XqNSqVOp1qlWG8V3nqs3w6sITwdr2C3qdYVqpUq5dJ3V1RJra2VKEuWSRO7LeHltldKbb6Dr5n8otEOajrSWh+m2MFspRqePkQzR46zwTa+FCOQ80/cwgwHC9M835aqWQxw/wglivP4MJ7uBP/8A9+19/HcPcG/ewZWb05zew9r6VP5gWxK6y4SLpPl5VMRp0vDJD0y+/pXs8XeMnv5CdPcRwXwfb7pDY/06mpxhnidedg4LX85E1RzCW3ukR58xkqTbP//B+Muf2Hn2J92PPinWhTz0wmoVZK9UWBCqTeL9Y9p3Dtj8/ndGX/zI7NvfaL9zj2jvwaX8c39JoTiTvpjojHbZOHlKOL/L7JtnxLLlaO8hmu4t1b685XNIpUpNx5vN6X38BLOdFTFNzlgs5F6p8MVNeQ75nW+QKhUVdmFNkbHFuisVmvL6DSc36fanpNmM4fQt6U9IeuPCbgy36Ev08ns+2yHsbBTkr2zZ8ROaXiwR4bV6+MkIrzvG703xogzbj4t1L0yx5OPwP1s+s/IVsYc72ONd3K3bmPGoeJGKURTv50Xdv4yDRRPEeR0DAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/4fd2271fa5155b57a072b2e79721396b/8ac56/certificate.webp 240w,
/static/4fd2271fa5155b57a072b2e79721396b/d3be9/certificate.webp 480w,
/static/4fd2271fa5155b57a072b2e79721396b/e46b2/certificate.webp 960w,
/static/4fd2271fa5155b57a072b2e79721396b/f992d/certificate.webp 1440w,
/static/4fd2271fa5155b57a072b2e79721396b/f4029/certificate.webp 1594w"
          sizes="(max-width: 960px) 100vw, 960px"
          type="image/webp"
        />
        <source
          srcset="/static/4fd2271fa5155b57a072b2e79721396b/8ff5a/certificate.png 240w,
/static/4fd2271fa5155b57a072b2e79721396b/e85cb/certificate.png 480w,
/static/4fd2271fa5155b57a072b2e79721396b/d9199/certificate.png 960w,
/static/4fd2271fa5155b57a072b2e79721396b/07a9c/certificate.png 1440w,
/static/4fd2271fa5155b57a072b2e79721396b/0ef7e/certificate.png 1594w"
          sizes="(max-width: 960px) 100vw, 960px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/4fd2271fa5155b57a072b2e79721396b/d9199/certificate.png"
          alt="certificate"
          title="certificate"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p>It is a shame that it is not possible to create <a href="https://github.com/aws/aws-cdk/issues/49#issuecomment-454800305" target="_blank" rel="nofollow noopener noreferrer">cross region references using aws-cdk</a>:</p>
<blockquote>
<p>There is not, unfortunately. You’re going to have to thread the API URL across regions manually. That means:</p>
<p>Deploy the ApiStackIreland first. Note the API URL (maybe make it an Output so that it’s easy to get to).
Deploy the EdgeStack and plug in the value of API URL from the first step.
There are a number of ways you could do this, and honestly I’m not sure which one to recommend.</p>
<p>I guess a pragmatic one would be to use <code class="language-text">this.node.getContext()</code> and pass the value on the command-line when deploying the second stack (using the <code class="language-text">-c KEY=VALUE fflag</code>), or put it into cdk.json under the context: {} section.</p>
</blockquote>
<p>The full working example is available <a href="https://github.com/miensol/miensol.github.io/tree/develop/content/posts/cloudfront-custom-domain-https" target="_blank" rel="nofollow noopener noreferrer">in the github repository</a>.</p></div></div></div><div class="Post-module--post__footer--3WzWU"><div><p class="Meta-module--meta__date--29eD7">Published <!-- -->5 May 2020</p></div><div class="Tags-module--tags--1L_ct"><ul class="Tags-module--tags__list--91FqN"><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" href="/tag/aws/">aws</a></li><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" href="/tag/aws-cdk/">aws-cdk</a></li><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" href="/tag/website/">website</a></li><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" href="/tag/infrastructure-as-code/">infrastructure as code</a></li><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" href="/tag/cloud-front/">CloudFront</a></li><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" href="/tag/aws-certificate-manager/">AWS Certificate Manager</a></li></ul></div><div class="Author-module--author--2Yefr"><p>TDD fan eager to learn new things. Always focused, always eager to ask why?<a class="Author-module--author__bio-contact--8_j8F" href="mailto:piotr.mionskowski@gmail.com" rel="noopener noreferrer" target="_blank"><strong>Piotr Mionskowski</strong></a></p></div></div><div class="Post-module--post__comments--25y6I"><div><div id="disqus_thread"></div></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/cloudfront-custom-domain-https/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-6174af72088d24da11e8.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-78521276b246725d0e0f.js"],"component---src-templates-categories-list-template-tsx":["/component---src-templates-categories-list-template-tsx-1443a27db8e607e06eaf.js"],"component---src-templates-category-template-tsx":["/component---src-templates-category-template-tsx-9b2527fed1bbc12d167a.js"],"component---src-templates-index-template-tsx":["/component---src-templates-index-template-tsx-90ea64a37c4d7b280402.js"],"component---src-templates-not-found-template-tsx":["/component---src-templates-not-found-template-tsx-3d89186c897c9782220b.js"],"component---src-templates-page-template-tsx":["/component---src-templates-page-template-tsx-daedb109729ccd084ce5.js"],"component---src-templates-post-template-tsx":["/component---src-templates-post-template-tsx-c32fd150628cfd6dfdcc.js"],"component---src-templates-tag-template-tsx":["/component---src-templates-tag-template-tsx-0485877a475bb21e2d32.js"],"component---src-templates-tags-list-template-tsx":["/component---src-templates-tags-list-template-tsx-82656016ea107e26a0f3.js"]};/*]]>*/</script><script src="/component---src-templates-post-template-tsx-c32fd150628cfd6dfdcc.js" async=""></script><script src="/70ba16277e1f8ff187315c677a20c57a8b12f94a-076ebef65155af783aeb.js" async=""></script><script src="/c39ba592b6b5047a9857340a927d4f5e647ac87b-a4bdae0c130dc607cbb4.js" async=""></script><script src="/styles-8636a280cbc61d53ad10.js" async=""></script><script src="/app-6174af72088d24da11e8.js" async=""></script><script src="/532a2f07-5faf1395916999ba184f.js" async=""></script><script src="/framework-ff21b39501fa5007c91d.js" async=""></script><script src="/webpack-runtime-81078feff732a01ca8b6.js" async=""></script></body></html>