{"componentChunkName":"component---src-templates-post-template-tsx","path":"/angularjs-my-new-superhero-tool/","result":{"data":{"markdownRemark":{"id":"73f7aa04-7e4c-510a-ab0c-2aa07c49ff33","html":"<p>As I mentioned in my previous post I’ll describe my thoughts and findings about 3 popular JavaScript libraries that help building large web application. I’ll start with <a href=\"http://angularjs.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">AngularJs</a> which is the first one I’ve used in a real product.</p>\n<h2 id=\"model-view-whatever\" style=\"position:relative;\"><a href=\"#model-view-whatever\" aria-label=\"model view whatever permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Model View Whatever</h2>\n<p>Angular team didn’t try hard to map their concepts to classical MVC pattern. You can see it even in the title of its home page. Instead they focused on making a development path of a large web application as smooth and productive, in a long term, as possible. This means its really important to return to <a href=\"http://docs.angularjs.org/api/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">documentation</a> and <a href=\"http://docs.angularjs.org/guide/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">developer guide</a> if you feel you’re getting lost along the way. Learning Angular is a really interesting journey especially that many concepts that I previously had categorized as not for the web turned out to be totally useful.</p>\n<h2 id=\"model-and-view-model\" style=\"position:relative;\"><a href=\"#model-and-view-model\" aria-label=\"model and view model permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Model and view model</h2>\n<p>This term has really a short definition according to angular way:</p>\n<blockquote>\n<p>a model is any data that is reachable as a property of an angular <a href=\"http://docs.angularjs.org/guide/scope\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Scope</a> object</p>\n</blockquote>\n<p>The nice thing about it is that it really is up to you how you choose to encapsulate the most valuable and complex logic inside your model or view model classes. No base “<em>class”</em> , no artificial properties and helpers is required. In fact the framework won’t force you to build a proper view model for data-binding. While this freedom gives you more flexibility it also means that you are responsible for keeping your <a href=\"http://docs.angularjs.org/guide/dev_guide.mvc.understanding_controller\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Controllers</a> clean and thin. I prefer to put logic that encapsulates data and provides global, shared behaviour into separate classes totally unaware of the UI. Depending on the use case I’ll then put an instance of this model into scope or  if the presentation logic is more complex create a view model that wraps some model objects. To make the model objects easily accessible and sharable between views angular provides <a href=\"http://docs.angularjs.org/guide/dev_guide.services\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">services</a>. For a very simple logic that augments the way a single piece of data is presented there are <a href=\"http://docs.angularjs.org/guide/dev_guide.templates.filters\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">filters</a>.</p>\n<p>One important thing to understand though is that data-binding is only happening between view (and directives) and a scope object. If a model object provides events fired when its state changes they have to implemented in a traditional way. When I say traditional I mean that you typically will need to apply <a href=\"http://en.wikipedia.org/wiki/Observer_pattern\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Observer pattern</a> – or rather use one <a href=\"https://github.com/js-coder/observable\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">of implementations available</a>. This is somewhat different from the dirty checking mechanism that sits behind all the angular data-binding magic. Fortunately the framework provides a way to connect a non angular event to the scope with <a href=\"http://docs.angularjs.org/api/ng.$rootScope.Scope#$apply\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">$apply</a> method. However be warned that you have to be really careful here to call it <a href=\"http://stackoverflow.com/questions/12729122/prevent-error-digest-already-in-progress-when-calling-scope-apply\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">only outside of angular digest cycle</a>.</p>\n<h2 id=\"controller--keep-it-thin\" style=\"position:relative;\"><a href=\"#controller--keep-it-thin\" aria-label=\"controller  keep it thin permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Controller – keep it thin</h2>\n<p>A <a href=\"http://docs.angularjs.org/guide/dev_guide.mvc.understanding_controller\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">controller</a> is mainly responsible for setting up the scope object and as such is created on a per view basis. It is the most common entry point for an application behaviour triggered by DOM events. While its often easy to put more and more business logic inside them you should really try hard not to. As a reward I often found myself being able to reuse more logic than I anticipated. Another rule of thumb is to never access DOM elements from controller. Angular has a special place for all DOM related activities called directives.</p>\n<h2 id=\"directive--a-way-to-reusable-ui\" style=\"position:relative;\"><a href=\"#directive--a-way-to-reusable-ui\" aria-label=\"directive  a way to reusable ui permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Directive — a way to reusable ui</h2>\n<p>This is the part of angular that causes lot of confusion when it comes to building custom directives. Especially that whenever you need to manipulate DOM in any way you should use them. To make things <em>easier</em> there is a lot of not so obvious vocabulary used like <a href=\"http://docs.angularjs.org/api/ng.$compile\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">compile</a>, <a href=\"http://docs.angularjs.org/api/ng.$interpolate\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">interpolate</a>, link and my favourite <a href=\"http://docs.angularjs.org/guide/directive\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">transclude</a>. In my opinion directives make working with data-binding in angular so productive. They are kind of hard to understand deeply at first, but reading <a href=\"http://docs.angularjs.org/guide/directive\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">the guide</a> couple of times helps a lot. To demonstrate its power I’ll just say that entire <a href=\"http://jqueryui.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">jQuery ui</a> is easily accessible with just one directive. I guess I have to little experience to provide some tips about building directives - the most complex one I’ve built was <a href=\"http://jsfiddle.net/YShcw/1/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">paginate</a>. Here is a HTML snippet of how to use it:  </p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">paginate</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>items<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">ng-repeat</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>item in pager.paged<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n          {{ item.index }} {{ item.text }} \n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">ng-click</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>pager.previous()<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Previous<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">ng-repeat</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>page in pager.pages<span class=\"token punctuation\">\"</span></span>\n           <span class=\"token attr-name\">ng-class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>pager.classForPage(page)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">ng-click</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>pager.goTo(page)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{ page }} <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">ng-click</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>pager.next()<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Next<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Directive is the hardest part to fully understand but if you do learn them and built them in a generic way you can accelerate development a lot.</p>\n<h2 id=\"views\" style=\"position:relative;\"><a href=\"#views\" aria-label=\"views permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Views</h2>\n<p>I’ve only touched couple of aspects of Angular - there is a lot more to it. In particular I haven’t commented on View part in MVC trio. Angular tends to be criticised for the way it handles views. Mainly because you may get to a stage where it is hard to see actual html inside tons of directives attached to DOM elements. An alternative approach would be to use existing template engines like <a href=\"http://handlebarsjs.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Handlebars</a> – that’s the way it’s done in <a href=\"http://emberjs.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Ember.js</a> – but it’s not really practical in Angular.</p>\n<p>However I really like the idea that behaviour of html elements is immediately visible when you scan views mainly because declarative nature of directives. It makes it possible for an CSS or UI design expert, not familiar with Angular nor JavaScript, to make safe changes to views. In addition you no longer need to repeat selectors to access DOM and attach behaviour to it. This eliminates some of the maintenance burden. Like with any tool you have to be careful though not to overload html with directives and never put logic inside your views even if its only presentation related. If you find yourself repeating the same set of directives in many places of your codebase it may be good to step back a little and think of a way to encapsulate a common behaviour – probably with a more specific directives.</p>\n<p>I’ll soon try to comment on features that Angular provides that make it suitable for large scale application development.</p>","fields":{"slug":"/angularjs-my-new-superhero-tool/","tagSlugs":["/tag/javascript/","/tag/mvvm/","/tag/angularjs/","/tag/mvc/"]},"excerpt":"As I mentioned in my previous post I’ll describe my thoughts and findings about 3 popular JavaScript libraries that help building large web application. I’ll start with AngularJs which is the first one I’ve used in a real product. Model View Whatever Angular team didn’t try hard to map their concepts to classical MVC…","frontmatter":{"date":"2013-09-15 11:53:00","description":"Introduction to angular","tags":["javascript","mvvm","angularjs","mvc"],"title":"AngularJs – my new superhero tool.","socialImage":null}}},"pageContext":{"slug":"/angularjs-my-new-superhero-tool/"}}}