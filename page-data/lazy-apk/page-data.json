{"componentChunkName":"component---src-templates-post-template-tsx","path":"/lazy-apk/","result":{"data":{"markdownRemark":{"id":"72983df0-225f-58a1-8c81-0b84e4f8b878","html":"<p>At <a href=\"http://brightinventions.pl\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Bright Inventions</a> we use <a href=\"https://www.jetbrains.com/teamcity/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">TeamCity</a> as a continuous integration server. Apart from building, running tests and uploading artifacts we sometimes use it to quickly distribute an android application to clients and test team. However we found using TeamCity UI on a mobile device isn’t as pleasing as it could be. That’s why we usually recommend downloading updates through a dedicated application such as <a href=\"https://play.google.com/store/apps/details?id=com.raidzero.teamcitydownloader\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">TeamCity Downloader</a>.</p>\n<p>While <em>TeamCity Downloader</em> is really easy to use I found it lacks a couple of features I need. First of all I would like to be able to use multiple TeamCity servers at once. Moreover it would be nice to see commit messages related to particular build to streamline change communication.</p>\n<h2 id=\"lazy-apk---a-simple-apk-downloader\" style=\"position:relative;\"><a href=\"#lazy-apk---a-simple-apk-downloader\" aria-label=\"lazy apk   a simple apk downloader permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Lazy Apk - a simple apk downloader</h2>\n<p>Since I wanted to test some of new APIs available in <a href=\"https://www.android.com/versions/lollipop-5-0/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Lollipop</a> I thought it would be a good idea to try them out in an application that could actually be useful. That’s why I’ve build another artifacts downloader - <a href=\"https://play.google.com/store/apps/details?id=pl.brightinventions.lazyapk\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Lazy Apk</a>.</p>\n<p>The tool allows you to configure multiple TeamCity build servers:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 270px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f6be68feed3a257359194eca88b67893/01bf6/lazy_apk_sources.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.91666666666669%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsSAAALEgHS3X78AAAC6klEQVRIx+2VS2sTURTHb5pC0VZE8YFURKEoVbA7P4ELn6BtwbRWaQWhWl/4AF2otItamyrVpR+g0we2WoW6cFV3LoSWIgV1oZlJMpN5pImZKHjP8dx5tEmbhPpYZvHjf8/j/u89kyHDpCb2S2oOgNTMuEsgB4qbliFyjYyPhKr4dLiFj7Wu42/vHeSTXfX89ZUGzmYvMZjpZDjbRVxkOHPBo9ONqV6U+TubcO5aFX66uw0/Xl9LVAPLdFfwH88OoN1bA/ZALWSf7Ab70Q7IPt0Ddt9GyHQHINNTSQRX8P0+o3oFZB7vBHuwDjPhWmDJm4ynB+sxeZvBQs96TA82YCpcR7ofF7pr0LrBMHmrNKkHWyAV3oWp3q3ArNEObg2dQmvkLFjDbWgNhdCSWlwV8WgH0V4aqRUsKeQoMzKcW1lEy0YwbUQz62H7ANXAUQH1FwDAoF7DBjJMaFyJfEUCovI3FMSUCKoxxdGoHEGZ6rGo7MS6pqKpa2gQOQrmhzE0lc/ATNPkmqZhPB4HoWpcRU1VMZFIoEabVVrH4zFHRWwYBtKefAwDzMg8aQKYrutcNBHg6QpMw8yLac8yDNDNJOrkwaiBeydB7qkFb2KaWORQMJIpNEzLNRSj0oggxvQRJy+PRV/hg2jkL+/RVGXXUJZljEQioCgKKrSORqPimToqclRz1kKF8eIEi+ZkODdFhkrxkYtRfOS0O7L4UbyHCysfdmHyzXTXUOTJw3lt/uSGRfD3Lo1c6rVZBeB7LN7QT/7zDcuGZcOyYdmwpOF/+z/U6UNPH3skBd3Vv8HfCyz1EzmBBHi6atJLa38vsHfhZk4gAYLphydJm8CPHfop7m/Mzw1Qb9+J3LzjwYaPMSDQ4SjDqct7cayRoUTr4eOkRxiOt67BV+e3O3XRN0L5oUMM31zdhxNt1SgddnuFFxtvCXICBM9DQZg8txnGT1fRuoJylY5OnKmGF+0bvFzQywfgJfWKmlh7Hvw3NDTA5dTcgWMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/f6be68feed3a257359194eca88b67893/8ac56/lazy_apk_sources.webp 240w,\n/static/f6be68feed3a257359194eca88b67893/3e767/lazy_apk_sources.webp 270w\"\n          sizes=\"(max-width: 270px) 100vw, 270px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/f6be68feed3a257359194eca88b67893/8ff5a/lazy_apk_sources.png 240w,\n/static/f6be68feed3a257359194eca88b67893/01bf6/lazy_apk_sources.png 270w\"\n          sizes=\"(max-width: 270px) 100vw, 270px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/f6be68feed3a257359194eca88b67893/01bf6/lazy_apk_sources.png\"\n          alt=\"Multiple sources\"\n          title=\"Sources\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<p>As I mentioned the commit messages are visible next to each build:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 270px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3cc2748bd9eb5aa44e69636d9e231372/01bf6/lazy_apk_builds.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.91666666666669%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAIAAAAGkY33AAAACXBIWXMAAAsSAAALEgHS3X78AAADlklEQVRIx6VUS08TURS+A/iImhgxroyJQU1xoTtdu1fEF1pUjOjCN3HhI2qiYqJG8ZG0sjDugYJRNJroQhOD/gCLUCR9Tmf6bmdKx3ZcAH73nnZoseLry+npNyfnu/fcOWcuc7UwV0uN8JJrbw23FvKSiCMIwvr2sIH9Cz89sD89uPjdtS2vTq993WFj7tPMfYy5TzH3SeY+wT4f556M+OcTIgd2Rhq7vOLL2fneztWei8s8l5azfKf0/cmm/O0lhYerzEc209FQcKwxnWtN5xqzu7HgXFdwNCAnf6Muf6PWuMq+ddbkrkrGNcm4zph+nuWc67NX5k3crDecjYZjvdG90Xi8OeewGd0bDIctd79BP8f0C5J+gZFlS4TpA+1az16t/5DmOqj17NN67VqPvUT2cd7bqg0cFtauVxrLfJvUC9N6YYp7c1orcCPOH0VEz09p3CaRXG4snUqE5aCqyBE1rKrCKzIMQc7DnChyKKoq8VhEy6Qy6aRlLJVKBQKBrwIej2d4eHh8fHxsbAwcBD4UCvl8PkQikYimaZkyMPzi8XgikYhGo+DJZFJV1QkBXQACi2QqwcVYMhwOK4oCfSwWA4EenLItjVbCbLFSAmREEEQ5KCQukBAAwTFnxOl0GiFsiK0iAiC0M0VoIYqDI7liZ+0vUSEG0n+DirL/GcWys9ms/gvM1SoaEiAYDPoFfAJerxdBEIqDW82rKFuWZdLAY5KCAtZy1Dw84j1XmbCYABbGQmgsyJ+WbU0YgVZBLdhtVhcyP6EoRjaUpEGd5ZMwB7g4UQJqJo99fi6yuniOGfqN+L+G5H8nzDqhVXO5p/dc9Sx8wjBMuINw6YyOjo6MjIATwcCAYHgQAUcj0O3ZHwZahfagVSCYKvpoaXIQgadLqvwamHnb9NFDnxSAGHl0llnHqS62Jgyb0MxgLUtQdbyKYuTRbFl3GN045VcaEfLWHYxLP6mE5YDfGwr4Q0F/0O+DycFACN+V3xeW8c89/kVQ5AT8sajKL/3c9+lk1oxr+WjGiKQNPT+ZLUxxM+EnLT9hUnCam0iAkA117f5wZwfZ+1tNQ127Pt7bza0LtmvmUdjQ3Z0fRQQqGHNt59bfzPqb2NuzjU9bFvZtY65mCX6wbenr4yv7mkROs9S7lb3psA221YO4tksIsmetdSWrfXl0+fMDC57Za/mjvXawbdGL9qWIFxPsNS+O1D9vW1xMaK37AWHz4nJ8QJyYAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/3cc2748bd9eb5aa44e69636d9e231372/8ac56/lazy_apk_builds.webp 240w,\n/static/3cc2748bd9eb5aa44e69636d9e231372/3e767/lazy_apk_builds.webp 270w\"\n          sizes=\"(max-width: 270px) 100vw, 270px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/3cc2748bd9eb5aa44e69636d9e231372/8ff5a/lazy_apk_builds.png 240w,\n/static/3cc2748bd9eb5aa44e69636d9e231372/01bf6/lazy_apk_builds.png 270w\"\n          sizes=\"(max-width: 270px) 100vw, 270px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/3cc2748bd9eb5aa44e69636d9e231372/01bf6/lazy_apk_builds.png\"\n          alt=\"Commit messages\"\n          title=\"Commit messages\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<p>Downloaded APKs are stored inside android “Downloads” so there is no need to pull the same package twice:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 270px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4410f90f179191dc8744435f96bbd122/01bf6/lazy_apk_downloads.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.91666666666669%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAIAAAAGkY33AAAACXBIWXMAAAsSAAALEgHS3X78AAADlElEQVRIx+1TOWwTURD9ToK4BIEQmiASMEcIEoizQuIQBQWXuEIMMhJQEO4CIRAFh8SlhMR2AkGgABIF2JwBCSkVBQhRQINTxARMsL3rY737/9/d2GuQSJi/31nbkIJAy+h59GZ23s7fP2Pk24Z824pMb/PV2kxfZGY4MX1tkXcrerhj9BuX47Fz3MszqzqPzX9xpBr5DyH/PuQ/iPwHkH9/HiCsRx/qmYfwA8vYAicmdB1Gn09XfDw5MXCyDKXP2b61L01fHJtxV2VclYa70vDYDXeV0VyRuVoNPHNtjuGpMlrshmdaqqEcSMpVmWqakjo/CtHjSG+tUU+VaJcm641TddcM3TOr7/pC3TO7r7WmD3zbAt1t169U6E12vXkmPOprqdFddu38eEQf7ib3asmDXcS3k3h3kPt1JhwM97ZnARl45HXkCrwO+sCJcOoHNQao0c98ZoAYDJxTg4f9WZ7uh2IMnhHGkSJLkfBXUQhHxYgoml4IAyDJeIQRIRyKiUIiHiVYxkrSApJlube396Np3d3dXV1dPT09gUAAOBDwoVAoGAxCJhqNEkJwniH4JRIJSZJisRjwZDIpiqJmGjUNBBbBhcbE8MpIJCIIAujj8TgQ0APn1ZaGDNqvYmHQQMYJJOE4cJCEaZJpQOAzc2JFUSAFDaFV1DQgvDPP8BfxPHAoLuhMhmkFYmiO/8qYGG7yL8XQFq4aLuP3SfyRGG4r/w6HMoKphqmeBwhVJv5lAfLHq3CTZUWKKQlBiYUY4mFFEhUpnt0wmIQ1ML4q4M2pKFhN409v1Ytl2uVyvWWu5pqpNU1Xz46gbYuZmG+VpYEhw7vAg5gwcQoH3xHPXNIyj95cTm8sA5Ar0/CdNezYQw6Tj4AfWsFE1jIy0WVMZawy0LSspllnvnfcx03LbaLCO79X25Zo7cu126u19hXarZVa2yJ6dz0Tw1HD4TDfQWvDYX5ZsZbGPW/ohVKt2a65q9k3u2erl8pJ6zw05HrxpGKZnExGQ0khmIcvcjyCrCJLZikL3kdVc7b5oAj/g/0XD/svKUvDQTI/RPq3gRy+DxSEv6OwAL1u3JJDw6aCsHHz68aCzCsoaNhshci3IQvvetR5dM6jrSO965Bvow18h7P0Rf0UyLOCjbb7a1HnkeoOZxkQ3wYbJNETR8kgip/vnfR058gndcUsrCvucI55trsU8tmCuqJne8qeOsdmCxwlPwESQdQEvjOQRgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/4410f90f179191dc8744435f96bbd122/8ac56/lazy_apk_downloads.webp 240w,\n/static/4410f90f179191dc8744435f96bbd122/3e767/lazy_apk_downloads.webp 270w\"\n          sizes=\"(max-width: 270px) 100vw, 270px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/4410f90f179191dc8744435f96bbd122/8ff5a/lazy_apk_downloads.png 240w,\n/static/4410f90f179191dc8744435f96bbd122/01bf6/lazy_apk_downloads.png 270w\"\n          sizes=\"(max-width: 270px) 100vw, 270px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/4410f90f179191dc8744435f96bbd122/01bf6/lazy_apk_downloads.png\"\n          alt=\"Downloads\"\n          title=\"Downloads\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<h2 id=\"source-available-on-github\" style=\"position:relative;\"><a href=\"#source-available-on-github\" aria-label=\"source available on github permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Source available on Github</h2>\n<p><a href=\"https://play.google.com/store/apps/details?id=pl.brightinventions.lazyapk\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Lazy Apk</a> source code is available on <a href=\"https://github.com/bright/lazyapk\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">github</a>. I’ve tried couple of different techniques to extract code from <a href=\"http://developer.android.com/reference/android/app/Activity.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Activity</a> classes - I’m not yet sure if I like the results though…</p>\n<p><em>This article is cross-posted with <a href=\"http://blog.brightinventions.pl\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">my company blog</a></em></p>","fields":{"slug":"/lazy-apk/","tagSlugs":["/tag/android/","/tag/team-city/"]},"excerpt":"At Bright Inventions we use TeamCity as a continuous integration server. Apart from building, running tests and uploading artifacts we sometimes use it to quickly distribute an android application to clients and test team. However we found using TeamCity UI on a mobile device isn’t as pleasing as it could be. That’s…","frontmatter":{"date":"2015-01-06T21:00:00.000Z","description":null,"tags":["android","TeamCity"],"title":"Lazy Apk - a simple TeamCity artifact downloader","socialImage":null}}},"pageContext":{"slug":"/lazy-apk/"}}}